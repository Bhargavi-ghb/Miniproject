<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Personal Financial Tracker</title>
    <link rel="icon" type="image" href="/images/fina.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
     @import url('https://fonts.googleapis.com/css2?family=Alex+Brush&family=Bokor&family=Bungee+Spice&family=Clicker+Script&family=Dancing+Script:wght@400..700&family=Edu+AU+VIC+WA+NT+Pre:wght@400..700&family=Pacifico&family=Pirata+One&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Playwrite+AU+SA:wght@100..400&family=Playwrite+IN+Guides&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Satisfy&family=Shadows+Into+Light&family=Spicy+Rice&family=Tangerine:wght@400;700&family=Yatra+One&display=swap');
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
        }

         /* Header */
        header {
            background-color: #050C9C;
            color: white;
            padding: 10px 15px;
        }

        .nav-margin{
            display: flex;
            justify-content: flex-end;
        }

        .header-h{
            font-family: "Yatra One", serif;    
            padding-left: 20%;
        }

        @media only screen and (max-width:545px){
            .header-h{
                padding-left: 0%;
                font-size: 18px;
            }
        }

        @media only screen and (max-width:768px){
            .header-h{
                font-size: 20px;
                padding-left:0%;
            }
        }

        @media only screen and (max-width:1024px){
            .header-h{
                font-size: 25px;
                padding-left:5%;
            }
        }



        header .logo img {
            width: 100px;
            margin-right: 10px;
            border-radius: 50px;
            margin-left: 3%;
        }

        @media only screen and (max-width:545px){
            header .logo img {
                width: 50px;
                margin-right: 2px;
            }
        }

        .nav-link{
            color:white;
            font-weight: bold;
            font-size: 22px;
        }

        header nav a {
            text-decoration: none;
            margin: 0 10px;
            
        }

        .nav-link:hover {
            text-decoration: underline;
            color: #ca46d1;
        }

        .container {
            max-width: 900px;
            margin: 50px auto;
            padding: 30px;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        h2 {
            text-align: center;
            color: #333;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .financial-summary {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-box {
            flex: 1 1 calc(30% - 20px);
            background: #f9f9f9;
            border: 2px solid #36a2eb;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .summary-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .summary-box h3 {
            margin-bottom: 15px;
            font-size: 18px;
            color: #333;
        }

        .summary-box p {
            font-size: 20px;
            font-weight: bold;
            color: #2d89ef;
        }

        .main {
            text-align: center;
            margin-top: 30px;
        }

        .main p{
            color: black;
            font-size: 25px;
            padding-bottom: 3%;
            font-family: "Playfair Display", serif;
        }

        .main a {
            display: inline-block;
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background: #64c1fe;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease-in-out;
            font-weight: bold;
            font-size: 18px;
        }

        .main a:hover {
            background: #2d89ef;
            transform: translateY(-2px);
        }

        .main a:active {
            transform: translateY(1px);
        }

        .username {
            color: #36a2eb; 
            font-weight: bold;
        }

        #welcomeMessage{
            padding-bottom: 5%;
        }

        
    /* About Us Section */
    .about {
      margin: 40px 0;
      padding: 20px;
      background-color: #d1eefa;
      border-radius: 10px;
      box-shadow: 2px 2px 5px rgba(84, 158, 204,);
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .about-img {
      border-radius: 10px;
      object-fit: cover;
      width: 70%;
      padding-left: 10%;
      
    }

    .about .content {
      flex: 1;
    }

    .about h2 {
      font-size: 3rem;
      margin-bottom: 10px;
      color: #3572EF;
      font-family: "Tangerine", serif;
      font-weight: bold;
    
    }

    @media only screen and (max-width:768px){
      .about h2{
        font-size: 2rem;
      }
    }


    .about p {
      font-size: 1.5rem;
      color: #000000;
      line-height: 1.6;
      padding-top: 3%;
    }

    @media only screen and (max-width:768px){
      .about p{
        font-size: 15px;
      }
    }

         /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            background-color: #050C9C;
            color: white;
            margin-top: 20px;
            border-radius: 10px;
        }

        footer nav a {
            color: white;
            text-decoration: none;
            margin: 0px 10px;
            font-size: 1rem;
        }

        footer nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-light">
          <div class="container-fluid">
            <a class="navbar-brand logo" href="#"><img src="images/fina.png" alt="Finance Tracker Logo" ></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
              <span class="navbar-toggler-icon"></span>
            </button>
            <h1 class="header-h">Online Personal Finance Tracker</h1>
            <div class="collapse navbar-collapse nav-margin" id="collapsibleNavbar">
              <ul class="navbar-nav" >
                <li class="nav-item">
                  <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="Summary.html">Summary</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#about">Aboutus</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="logout.html">Logout</a>
                </li>    
              </ul>
            </div>
          </div>
        </nav>
    </header>

    <div class="container">
        <h2 id="welcomeMessage"></h2>

        <div class="financial-summary">
            <div class="summary-box">
                <h3>Total Income</h3>
                <p id="totalIncome">₹0</p>
            </div>
            <div class="summary-box">
                <h3>Total Expenditure</h3>
                <p id="totalExpenditure">₹0</p>
            </div>
            <div class="summary-box">
                <h3>Total Savings</h3>
                <p id="totalSavings">₹0</p>
            </div>
            <div class="summary-box">
                <h3>Total Lending</h3>
                <p id="totalLending">₹0</p>
            </div>
            <div class="summary-box">
                <h3>Total Refunding</h3>
                <p id="totalRefunding">₹0</p>
            </div>
            <div class="summary-box">
                <h3>Remaining Balance</h3>
                <p id="remainingBalance">₹0</p>
            </div>
        </div>
    </div>
    <div>
        <div class="container">
            <div class="main">
                <p>Manage your finances effortlessly by tracking your income, expenses, and more.</p>
                <a href="income.html">Income</a>
                <a href="expenditure.html">Expenditure</a>
                <a href="savings.html">Savings</a>
                <a href="lending_refunding.html">Lending/Refunding</a>
                <a href="summary.html">Summary</a>
            </div>
        </div>
    </div>

    <div class="container-fluid about" id="about">
        <div class="row">
          <div class="col-md-5">
            <img src="images/about_img.jpg" alt="About Us Image" class="about-img">
          </div>
          <div class="col-md-7">
              <h2>About Us</h2>
              <p>Our platform helps individuals and families efficiently track their income, expenses, savings, and financial goals. Built with simplicity and functionality in mind, it is designed to make personal finance management accessible to everyone.
               We understand that financial stability is the key to a stress-free life, and our mission is to empower you with the tools and insights you need to make smart financial decisions. 
              </p>
          </div>
        </div>
      </div>

    <footer>
        <p>&copy; 2024 Online Personal Finance Tracker. All rights reserved.</p>
      </footer>
       
    <script>
        const loggedInUser = localStorage.getItem('loggedInUser');
        console.log("Logged In User:", loggedInUser);

        if (loggedInUser) {
            // Set the welcome message with the username
            document.getElementById('welcomeMessage').innerHTML = `Welcome, <span class="username">${loggedInUser}</span> to your financial dashboard!`;
        } else {
            // Redirect to login if no user is logged in
            window.location.href = 'login.html';
        }

        const categories = ['income', 'expenditure', 'savings', 'lending', 'refunding'];
        const data = {};

        categories.forEach(category => {
            let categoryData = JSON.parse(localStorage.getItem(`${loggedInUser}-${category}Data`));
            if (!categoryData) {
                categoryData = [];
                localStorage.setItem(`${loggedInUser}-${category}Data`, JSON.stringify(categoryData));
            }
            data[category] = categoryData;
        });

        const calculateTotal = (data) => data.reduce((sum, item) => sum + parseFloat(item.amount || 0), 0);
        const totals = {};

        categories.forEach(category => {
            totals[category] = calculateTotal(data[category]);
        });

        const balance = totals.income - totals.expenditure - totals.savings + totals.refunding - totals.lending;

        document.getElementById('totalIncome').innerText = `₹${totals.income.toFixed(2)}`;
        document.getElementById('totalExpenditure').innerText = `₹${totals.expenditure.toFixed(2)}`;
        document.getElementById('totalSavings').innerText = `₹${totals.savings.toFixed(2)}`;
        document.getElementById('totalLending').innerText = `₹${totals.lending.toFixed(2)}`;
        document.getElementById('totalRefunding').innerText = `₹${totals.refunding.toFixed(2)}`;
        document.getElementById('remainingBalance').innerText = `₹${balance.toFixed(2)}`;

        function logout() {
            localStorage.removeItem('loggedInUser');
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>
